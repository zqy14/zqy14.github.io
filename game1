
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>点击气球小游戏</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      touch-action: manipulation;
      font-family: Arial, sans-serif;
      background-color: #87CEEB;
      user-select: none;
      -webkit-user-select: none;
    }

    #game-container {
      position: relative;
      width: 100vw;
      height: 100vh;
    }

    .balloon {
      position: absolute;
      width: 60px;
      height: 80px;
      border-radius: 50%;
      cursor: pointer;
      transform-origin: bottom center;
      animation: float 4s infinite ease-in-out;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      font-weight: bold;
      font-size: 20px;
    }

    .balloon:before {
      content: "";
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 6px;
      height: 15px;
      background-color: rgba(0, 0, 0, 0.2);
      border-radius: 0 0 3px 3px;
    }

    @keyframes float {
      0%, 100% {
        transform: translateY(0) rotate(0deg);
      }
      50% {
        transform: translateY(-20px) rotate(5deg);
      }
    }

    #score-display {
      position: fixed;
      top: 20px;
      left: 20px;
      background-color: rgba(255, 255, 255, 0.7);
      padding: 10px 20px;
      border-radius: 10px;
      font-size: 24px;
      font-weight: bold;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }

    #timer {
      position: fixed;
      top: 20px;
      right: 20px;
      background-color: rgba(255, 255, 255, 0.7);
      padding: 10px 20px;
      border-radius: 10px;
      font-size: 24px;
      font-weight: bold;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }

    #start-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: white;
      z-index: 100;
    }

    #start-button {
      margin-top: 20px;
      padding: 15px 30px;
      font-size: 20px;
      background-color: #FF5722;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }

    #game-over {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: white;
      z-index: 100;
    }

    #restart-button {
      margin-top: 20px;
      padding: 15px 30px;
      font-size: 20px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }
  </style>
</head>
<body>
<div id="game-container">
  <div id="score-display">得分: 0</div>
  <div id="timer">时间: 60</div>

  <div id="start-screen">
    <h1>点击气球小游戏</h1>
    <p>在60秒内点击尽可能多的气球！</p>
    <button id="start-button">开始游戏</button>
  </div>

  <div id="game-over">
    <h1>游戏结束!</h1>
    <p id="final-score">你的得分: 0</p>
    <button id="restart-button">再玩一次</button>
  </div>
</div>

<script>
  // 游戏变量
  let score = 0;
  let timeLeft = 60;
  let gameInterval;
  let timerInterval;
  let isGameRunning = false;

  // DOM元素
  const gameContainer = document.getElementById('game-container');
  const scoreDisplay = document.getElementById('score-display');
  const timerDisplay = document.getElementById('timer');
  const startScreen = document.getElementById('start-screen');
  const startButton = document.getElementById('start-button');
  const gameOverScreen = document.getElementById('game-over');
  const finalScoreDisplay = document.getElementById('final-score');
  const restartButton = document.getElementById('restart-button');

  // 气球颜色
  const balloonColors = [
    '#FF5252', '#FF4081', '#E040FB', '#7C4DFF',
    '#536DFE', '#448AFF', '#40C4FF', '#18FFFF',
    '#64FFDA', '#69F0AE', '#B2FF59', '#EEFF41',
    '#FFFF00', '#FFD740', '#FFAB40', '#FF6E40'
  ];

  // 开始游戏
  function startGame() {
    score = 0;
    timeLeft = 60;
    isGameRunning = true;

    // 清除所有现有气球
    const balloons = document.querySelectorAll('.balloon');
    balloons.forEach(balloon => balloon.remove());

    // 更新显示
    scoreDisplay.textContent = `得分: ${score}`;
    timerDisplay.textContent = `时间: ${timeLeft}`;

    // 隐藏开始屏幕
    startScreen.style.display = 'none';
    gameOverScreen.style.display = 'none';

    // 开始游戏循环
    gameInterval = setInterval(createBalloon, 1000);

    // 开始计时器
    timerInterval = setInterval(() => {
      timeLeft--;
      timerDisplay.textContent = `时间: ${timeLeft}`;

      if (timeLeft <= 0) {
        endGame();
      }
    }, 1000);
  }

  // 创建气球
  function createBalloon() {
    if (!isGameRunning) return;

    const balloon = document.createElement('div');
    balloon.className = 'balloon';

    // 随机位置
    const x = Math.random() * (window.innerWidth - 60);
    const y = window.innerHeight + 50;

    // 随机颜色
    const colorIndex = Math.floor(Math.random() * balloonColors.length);
    balloon.style.backgroundColor = balloonColors[colorIndex];

    // 随机大小
    const size = 40 + Math.random() * 40;
    balloon.style.width = `${size}px`;
    balloon.style.height = `${size * 1.3}px`;

    // 随机值 (1-5分)
    const value = Math.floor(Math.random() * 5) + 1;
    balloon.textContent = value;

    // 设置位置
    balloon.style.left = `${x}px`;
    balloon.style.top = `${y}px`;

    // 点击事件
    balloon.addEventListener('click', () => {
      if (!isGameRunning) return;

      // 增加分数
      score += value;
      scoreDisplay.textContent = `得分: ${score}`;

      // 气球爆炸效果
      balloon.style.transform = 'scale(1.2)';
      balloon.style.opacity = '0';
      setTimeout(() => {
        balloon.remove();
      }, 200);
    });

    // 添加到游戏容器
    gameContainer.appendChild(balloon);

    // 气球上升动画
    const duration = 3000 + Math.random() * 4000;
    balloon.style.transition = `top ${duration}ms linear`;

    setTimeout(() => {
      balloon.style.top = `-100px`;

      // 气球飞出屏幕后移除
      setTimeout(() => {
        if (balloon.parentNode) {
          balloon.remove();
        }
      }, duration);
    }, 10);
  }

  // 结束游戏
  function endGame() {
    isGameRunning = false;
    clearInterval(gameInterval);
    clearInterval(timerInterval);

    // 显示游戏结束屏幕
    finalScoreDisplay.textContent = `你的得分: ${score}`;
    gameOverScreen.style.display = 'flex';
  }

  // 事件监听
  startButton.addEventListener('click', startGame);
  restartButton.addEventListener('click', startGame);

  // 防止触摸事件的默认行为
  document.addEventListener('touchstart', function(e) {
    if (e.target === gameContainer) {
      e.preventDefault();
    }
  }, { passive: false });
</script>
</body>
</html>
